<script type="text/javascript">
window.addEventListener('load', () => {
  const element = document.querySelector('.object-filters');
  element.classList.add(...classes);
  let filtersCount = 0;
  let filtersApplied = false;
  const applyButton = element.querySelector('[data-control-apply]');
  const resetButton = element.querySelector('[data-control-reset]');
  const selects = element.querySelectorAll('select');
  const resetApplyButtonState = () => {
    applyButton.classList.remove('object-filters__button--active');
    applyButton.innerText = `Apply Filters`;
  }
  selects.forEach((select) => {
    select.addEventListener('change', (event) => {
      filtersCount++;
      const { value } = event.target;
      if (value) {
        filtersApplied = true;
        applyButton.classList.add('object-filters__button--active');
        applyButton.innerText = `Apply ${filtersCount} ${filtersCount === 1 ? 'Filter' : 'Filters'}`;
      }
    });
  });
  applyButton.addEventListener('click', () => {
    resetApplyButtonState();
  });
  resetButton.addEventListener('click', () => {
    filtersCount = 0;
    resetApplyButtonState();
    selects.forEach((select) => {
      select.querySelector('option[value=""]').selected = true;
    })
  })
});
</script>
